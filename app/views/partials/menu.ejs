<%
const menuItems = [
  { text: 'Каталог', href: '/catalog', condition: () => true },
  { text: 'Тавар', href: `/item/${locals.item_id}`, condition: () => pageName === 'item' },
  { text: 'Дадаць тавар', href: '/add-item', condition: () => isAdmin },
  { text: 'Змяніць тавар', href: `/update-item/${locals.item_id}`, condition: () => isAdmin && pageName === 'update-item' },
  { text: 'Абранае', href: '/favourites', condition: () => isClient },
  { text: 'Кошык', href: '/cart', condition: () => isClient },
  { text: 'Заказы', href: '/orders', condition: () => isAdmin || isClient },
  { text: 'Акаўнт', href: '/account', condition: () => true },
];
%>

<nav class="menu">
  <ul>
    <% menuItems.forEach(item => { %>
    <% if (item.condition()) { %>
    <li><a href="<%= item.href %>"><%= item.text %></a></li>
    <% } %>
    <% }); %>
  </ul>
</nav>

<script>
  $(`.menu a[href^="/<%= pageName %>"`).classList.add('active');
</script>